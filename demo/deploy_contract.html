<!doctype>
    <html>
    <script src="js/bignumber.min.js"></script>
    <script src="js/web3-light.js"></script>

    <script>
        // init web3
        var Web3 = require('web3');
        if (typeof web3 !== 'undefined') {
          web3 = new Web3(web3.currentProvider);
        } else {
            var web3 = new Web3();
            web3.setProvider(new web3.providers.HttpProvider("http://localhost:8545"));
        }

        // let's assume that coinbase is our account
        web3.eth.defaultAccount = web3.eth.coinbase;
    </script>
    
    </head>
    <body bgcolor="#E6E6FA">

        <h1>Deploying</h1>
        <script>
        var evmdbContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"get_number_of_DBs","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_row","type":"uint256"}],"name":"get_row","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_data","type":"bytes32[]"}],"name":"insert","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"bytes32"},{"name":"_headers","type":"bytes32[]"}],"name":"create","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_DB_id","type":"uint256"}],"name":"get_header","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_DB_id","type":"uint256"}],"name":"get_DB_info","outputs":[{"name":"","type":"address"},{"name":"","type":"bytes32"},{"name":"","type":"int256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_row","type":"uint256"}],"name":"erase","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_row","type":"uint256"},{"name":"_data","type":"bytes32[]"}],"name":"update","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_value","type":"bytes32"}],"name":"search","outputs":[{"name":"","type":"int256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_DB_id","type":"uint256"},{"name":"_row","type":"uint256"},{"name":"_col","type":"uint256"}],"name":"get_row_col","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"name","type":"bytes32"},{"indexed":false,"name":"index","type":"uint256"}],"name":"DBCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"db","type":"uint256"},{"indexed":false,"name":"row","type":"uint256"}],"name":"RowInserted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"db","type":"uint256"},{"indexed":false,"name":"row","type":"uint256"}],"name":"RowUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"db","type":"uint256"},{"indexed":false,"name":"row","type":"uint256"}],"name":"RowErased","type":"event"}]);
var evmdb = evmdbContract.new(
   {
     from: web3.eth.accounts[0], 
     data: '60606040525b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c010000000000000000000000009081020402179055505b611f25806100516000396000f3606060405236156100a0576000357c0100000000000000000000000000000000000000000000000000000000900480632ba5b90d146100a5578063564f9728146100cd578063570562611461013b578063655059db1461018057806367cb9316146101c5578063792544af1461022a5780639392e5b514610283578063b868a2ff146102a9578063e0dbbea2146102e3578063e2d6eddc1461031d576100a0565b610002565b34610002576100b76004805050610364565b6040518082815260200191505060405180910390f35b34610002576100f16004808035906020019091908035906020019091905050610379565b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600302600f01f1509050019250505060405180910390f35b346100025761016a600480803590602001909190803590602001908201803590602001919091929050506104d7565b6040518082815260200191505060405180910390f35b34610002576101af6004808035906020019091908035906020019082018035906020019190919290505061085c565b6040518082815260200191505060405180910390f35b34610002576101e06004808035906020019091905050610bd1565b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600302600f01f1509050019250505060405180910390f35b34610002576102456004808035906020019091905050610ce0565b604051808473ffffffffffffffffffffffffffffffffffffffff16815260200183600019168152602001828152602001935050505060405180910390f35b34610002576102a76004808035906020019091908035906020019091905050610dfb565b005b34610002576102e160048080359060200190919080359060200190919080359060200190820180359060200191909192905050611199565b005b3461000257610307600480803590602001909190803590602001909190505061152f565b6040518082815260200191505060405180910390f35b346100025761034a6004808035906020019091908035906020019091908035906020019091905050611600565b604051808260001916815260200191505060405180910390f35b60006000600050805490509050610376565b90565b60206040519081016040528060008152602001506020604051908101604052806000815260200150600060005080549050841080156103e15750600060005084815481101561000257906000526020600020906005020160005b506003016000508054905083105b1561048357600060005084815481101561000257906000526020600020906005020160005b5060030160005083815481101561000257906000526020600020900160005b5080548060200260200160405190810160405280929190818152602001828054801561047357602002820191906000526020600020905b81600050548152602001906001019080831161045c575b505050505091506104d0566104cf565b7f696e76616c696420706172616d6574657273000000000000000000000000000081600081518110156100025790602001906020020190600019169081815260200150508091506104d0565b5b5092915050565b6000600060006000600060005080549050871080156105655750600060005087815481101561000257906000526020600020906005020160005b5060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b801561059d5750600060005087815481101561000257906000526020600020906005020160005b506002016000508054905086869050145b1561081257600060005087815481101561000257906000526020600020906005020160005b5060030160005080549050925060018301600060005088815481101561000257906000526020600020906005020160005b5060030160005081815481835581811511610679578183600052602060002091820191016106789190610621565b8082111561067457600081815080546000825590600052602060002090810190610669919061064b565b80821115610665576000818150600090555060010161064b565b5090565b5b5050600101610621565b5090565b5b5050505085859050600060005088815481101561000257906000526020600020906005020160005b5060030160005084815481101561000257906000526020600020900160005b50818154818355818115116107075781836000526020600020918201910161070691906106e8565b8082111561070257600081815060009055506001016106e8565b5090565b5b505050506000915081505b8585905082101561079c578585838181101561000257905090906020020135600060005088815481101561000257906000526020600020906005020160005b5060030160005084815481101561000257906000526020600020900160005b5083815481101561000257906000526020600020900160005b50819055505b8180600101925050610712565b6107ba87878760008181101561000257905090906020020135611711565b90506107c78782856119e8565b7fa0e206effa3773e78f0c51bfe341fb98879c92d303c3a6699e2b1b8b457ef33a8784604051808381526020018281526020019250505060405180910390a182935061085256610851565b7f696e76616c696420706172616d6574657273000000000000000000000000000087600102604051808260001916815260200191505060405180910390a15b5b5050509392505050565b60006000600060008660001916141515610bc757600060005080549050915060018201600060005081815481835581811511610a00576005028160050283600052602060002091820191016109ff91906108b1565b808211156109fb5760006000820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001820160005060009055600282016000508054600082559060005260206000209081019061092f9190610911565b8082111561092b5760008181506000905550600101610911565b5090565b5b5060038201600050805460008255906000526020600020908101906109ac9190610955565b808211156109a85760008181508054600082559060005260206000209081019061099d919061097f565b80821115610999576000818150600090555060010161097f565b5090565b5b5050600101610955565b5090565b5b5060048201600050805460008255906000526020600020908101906109f091906109d2565b808211156109ec57600081815060009055506001016109d2565b5090565b5b50506005016108b1565b5090565b5b5050505084849050600060005083815481101561000257906000526020600020906005020160005b5060020160005081815481835581811511610a7557818360005260206000209182019101610a749190610a56565b80821115610a705760008181506000905550600101610a56565b5090565b5b505050506000905080505b84849050811015610af1578484828181101561000257905090906020020135600060005083815481101561000257906000526020600020906005020160005b5060020160005082815481101561000257906000526020600020900160005b50819055505b8080600101915050610a80565b85600060005083815481101561000257906000526020600020906005020160005b506001016000508190555033600060005083815481101561000257906000526020600020906005020160005b5060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690836c010000000000000000000000009081020402179055507fcb24ac471a0134bab077aeb5e768b45c46a9586ee1c2661b71721185612e46a0868360405180836000191681526020018281526020019250505060405180910390a1819250610bc8565b5b50509392505050565b60206040519081016040528060008152602001506020604051908101604052806000815260200150600060005080549050831015610c8d57600060005083815481101561000257906000526020600020906005020160005b50600201600050805480602002602001604051908101604052809291908181526020018280548015610c7d57602002820191906000526020600020905b816000505481526020019060010190808311610c66575b50505050509150610cda56610cd9565b7f696e76616c696420706172616d657465727300000000000000000000000000008160008151811015610002579060200190602002019060001916908181526020015050809150610cda565b5b50919050565b600060006000600060005080549050841015610d9d57600060005084815481101561000257906000526020600020906005020160005b5060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600060005085815481101561000257906000526020600020906005020160005b5060010160005054600060005086815481101561000257906000526020600020906005020160005b5060030160005080549050925092509250610df456610df3565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8191507f44425f6964206e6f74206578697374696e67000000000000000000000000000090809050925092509250610df4565b5b9193909250565b60006000600060006000508054905085108015610e875750600060005085815481101561000257906000526020600020906005020160005b5060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b8015610ebc5750600060005085815481101561000257906000526020600020906005020160005b506003016000508054905084105b1561115257600191506000925082505b600060005085815481101561000257906000526020600020906005020160005b5060030160005084815481101561000257906000526020600020900160005b5080549050831015610f96576000600102600060005086815481101561000257906000526020600020906005020160005b5060030160005085815481101561000257906000526020600020900160005b5084815481101561000257906000526020600020900160005b505460001916141515610f88576000915081505b5b8280600101935050610ecc565b81151561110e5761100185600060005087815481101561000257906000526020600020906005020160005b5060030160005086815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b5054611b83565b905061100d8582611d8a565b6000925082505b600060005085815481101561000257906000526020600020906005020160005b5060030160005084815481101561000257906000526020600020900160005b50805490508310156110ca57600060005085815481101561000257906000526020600020906005020160005b5060030160005084815481101561000257906000526020600020900160005b5083815481101561000257906000526020600020900160005b50600090555b8280600101935050611014565b7f9d9326f2cd5d14ca674b2ff8a079faae9f994924f7af4516b3abe545aa13cb018585604051808381526020018281526020019250505060405180910390a161114d565b7f726f7720616c72656164792064656c657465640000000000000000000000000085600102604051808260001916815260200191505060405180910390a15b611191565b7f696e76616c696420706172616d6574657273000000000000000000000000000085600102604051808260001916815260200191505060405180910390a15b5b5050505050565b600060006000600060005080549050871080156112255750600060005087815481101561000257906000526020600020906005020160005b5060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b801561125a5750600060005087815481101561000257906000526020600020906005020160005b506003016000508054905086105b80156112925750600060005087815481101561000257906000526020600020906005020160005b506002016000508054905085859050145b156114e657600191506000925082505b600060005087815481101561000257906000526020600020906005020160005b5060030160005086815481101561000257906000526020600020900160005b508054905083101561136c576000600102600060005088815481101561000257906000526020600020906005020160005b5060030160005087815481101561000257906000526020600020900160005b5084815481101561000257906000526020600020900160005b50546000191614151561135e576000915081505b5b82806001019350506112a2565b8115156113e4576113d787600060005089815481101561000257906000526020600020906005020160005b5060030160005088815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b5054611b83565b90506113e38782611d8a565b5b6000925082505b84849050831015611475578484848181101561000257905090906020020135600060005088815481101561000257906000526020600020906005020160005b5060030160005087815481101561000257906000526020600020900160005b5084815481101561000257906000526020600020900160005b50819055505b82806001019350506113eb565b61149387868660008181101561000257905090906020020135611711565b905080506114a28782886119e8565b7f5b6481e4f7ff56d520686f67e58fd37beefe7d053651e97f818b5bb024bbfd658787604051808381526020018281526020019250505060405180910390a1611525565b7f696e76616c696420706172616d6574657273000000000000000000000000000087600102604051808260001916815260200191505060405180910390a15b5b50505050505050565b600060006000600050805490508410156115d05761154d8484611b83565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8113156115c357600060005084815481101561000257906000526020600020906005020160005b5060040160005081815481101561000257906000526020600020900160005b505491506115f9566115cb565b8091506115f9565b6115f8565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91506115f9565b5b5092915050565b6000600060005080549050841080156116425750600060005084815481101561000257906000526020600020906005020160005b506003016000508054905083105b80156116775750600060005084815481101561000257906000526020600020906005020160005b506002016000508054905082105b156116e157600060005084815481101561000257906000526020600020906005020160005b5060030160005083815481101561000257906000526020600020900160005b5082815481101561000257906000526020600020900160005b5054905061170a56611709565b7f696e76616c696420706172616d65746572730000000000000000000000000000905061170a565b5b9392505050565b600060006000600060009250600091506001600060005087815481101561000257906000526020600020906005020160005b50600401600050805490500390505b80821315156118e757600281830181156100025705925082508460001916600060005087815481101561000257906000526020600020906005020160005b50600301600050600060005088815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b5054815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b50546000191610156118225760018301915081506118e2565b8460001916600060005087815481101561000257906000526020600020906005020160005b50600301600050600060005088815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b5054815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b50546000191611156118d95760018303905080506118e1565b8293506119df565b5b611752565b6000600060005087815481101561000257906000526020600020906005020160005b50600401600050805490501180156119c257508460001916600060005087815481101561000257906000526020600020906005020160005b50600301600050600060005088815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b5054815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b505460001916105b156119d6576001830193506119df566119de565b8293506119df565b5b50505092915050565b600060006001600060005086815481101561000257906000526020600020906005020160005b506004016000508054905001905080600060005086815481101561000257906000526020600020906005020160005b5060040160005081815481835581811511611a8a57818360005260206000209182019101611a899190611a6b565b80821115611a855760008181506000905550600101611a6b565b5090565b5b5050505060018103915081505b83821115611b3657600060005085815481101561000257906000526020600020906005020160005b5060040160005060018303815481101561000257906000526020600020900160005b5054600060005086815481101561000257906000526020600020906005020160005b5060040160005083815481101561000257906000526020600020900160005b50819055505b818060019003925050611a97565b82600060005086815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b50819055505b5050505050565b600060006000600060009250600091506001600060005087815481101561000257906000526020600020906005020160005b50600401600050805490500390505b8082131515611d5957600281830181156100025705925082508460001916600060005087815481101561000257906000526020600020906005020160005b50600301600050600060005088815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b5054815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b5054600019161015611c94576001830191508150611d54565b8460001916600060005087815481101561000257906000526020600020906005020160005b50600301600050600060005088815481101561000257906000526020600020906005020160005b5060040160005085815481101561000257906000526020600020900160005b5054815481101561000257906000526020600020900160005b506000815481101561000257906000526020600020900160005b5054600019161115611d4b576001830390508050611d53565b829350611d81565b5b611bc4565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9350611d81565b50505092915050565b60006000600060005084815481101561000257906000526020600020906005020160005b5060040160005080549050905082915081505b60018103821015611e6257600060005084815481101561000257906000526020600020906005020160005b5060040160005060018301815481101561000257906000526020600020900160005b5054600060005085815481101561000257906000526020600020906005020160005b5060040160005083815481101561000257906000526020600020900160005b50819055505b8180600101925050611dc1565b600060005084815481101561000257906000526020600020906005020160005b5060040160005060018203815481101561000257906000526020600020900160005b506000905560018103600060005085815481101561000257906000526020600020906005020160005b5060040160005081815481835581811511611f1a57818360005260206000209182019101611f199190611efb565b80821115611f155760008181506000905550600101611efb565b5090565b5b505050505b5050505056', 
     gas: 4700000
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }})
     </script>
    </body>
    </html>